{"ast":null,"code":"import _regeneratorRuntime from\"D:/React/InventoryCopy/inventoryfrontend/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/React/InventoryCopy/inventoryfrontend/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';import{USER_REGISTER_REQUEST,USER_REGISTER_SUCCESS,USER_REGISTER_FAIL,USER_LOGIN_REQUEST,USER_LOGIN_SUCCESS,USER_LOGIN_FAIL,USER_LOGOUT,FETCH_USERS_REQUEST,FETCH_USERS_SUCCESS,FETCH_USERS_FAIL,FETCH_USERBILL_REQUEST,FETCH_USERBILL_SUCCESS,FETCH_USERBILL_FAIL}from'../actionTypes';// Register User\nexport var userRegister=function userRegister(name,email,password){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var config,_yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:USER_REGISTER_REQUEST});config={headers:{'content-Type':'application/json'}};_context.next=5;return axios.post(\"https://inventoryvijainatesh.herokuapp.com/api/user/userregister\",{name:name,email:email,password:password},config);case 5:_yield$axios$post=_context.sent;data=_yield$axios$post.data;dispatch({type:USER_REGISTER_SUCCESS,payload:data});localStorage.setItem('userAuthData',JSON.stringify(data));_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);dispatch({type:USER_REGISTER_FAIL,payload:_context.t0.response&&_context.t0.response.data.message});case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var loginUser=function loginUser(email,password){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var config,_yield$axios$post2,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch({type:USER_LOGIN_REQUEST});config={headers:{content_Type:\"application/json\"}};_context2.next=5;return axios.post(\"https://inventoryvijainatesh.herokuapp.com/api/user/login\",{email:email,password:password},config);case 5:_yield$axios$post2=_context2.sent;data=_yield$axios$post2.data;dispatch({type:USER_LOGIN_SUCCESS,payload:data});localStorage.setItem('userAuthData',JSON.stringify(data));_context2.next=14;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](0);dispatch({type:USER_LOGIN_FAIL,payload:_context2.t0.response&&_context2.t0.response.data.message});case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[0,11]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var logoutUser=function logoutUser(){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:localStorage.removeItem('userAuthData');try{dispatch({type:USER_LOGOUT});}catch(error){}case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var fetchProfile=function fetchProfile(){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch,getState){var usersInfo,id,config,_yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:usersInfo=getState().user.usersInfo;id=usersInfo._id;_context4.prev=2;dispatch({type:FETCH_USERS_REQUEST,loading:true});config={headers:{content_Type:'application/json'}};_context4.next=7;return axios.get(\"https://inventoryvijainatesh.herokuapp.com/api/user/profile/\".concat(id),config);case 7:_yield$axios$get=_context4.sent;data=_yield$axios$get.data;dispatch({type:FETCH_USERS_SUCCESS,payload:data});_context4.next=15;break;case 12:_context4.prev=12;_context4.t0=_context4[\"catch\"](2);dispatch({type:FETCH_USERS_FAIL,error:_context4.t0.response&&_context4.t0.response.data.message});case 15:case\"end\":return _context4.stop();}}},_callee4,null,[[2,12]]);}));return function(_x4,_x5){return _ref4.apply(this,arguments);};}();};export var fetchUserBill=function fetchUserBill(){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch,getState){var usersInfo,id,config,_yield$axios$get2,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:usersInfo=getState().user.usersInfo;id=usersInfo._id;_context5.prev=2;dispatch({type:FETCH_USERBILL_REQUEST,loading:true});config={headers:{content_Type:'application/json'}};_context5.next=7;return axios.get(\"https://inventoryvijainatesh.herokuapp.com/api/user/bill/\".concat(id),config);case 7:_yield$axios$get2=_context5.sent;data=_yield$axios$get2.data;dispatch({type:FETCH_USERBILL_SUCCESS,payload:data});_context5.next=15;break;case 12:_context5.prev=12;_context5.t0=_context5[\"catch\"](2);dispatch({type:FETCH_USERBILL_FAIL,error:_context5.t0.response&&_context5.t0.response.data.message});case 15:case\"end\":return _context5.stop();}}},_callee5,null,[[2,12]]);}));return function(_x6,_x7){return _ref5.apply(this,arguments);};}();};","map":{"version":3,"sources":["D:/React/InventoryCopy/inventoryfrontend/frontend/src/redux/actions/user/userAction.js"],"names":["axios","USER_REGISTER_REQUEST","USER_REGISTER_SUCCESS","USER_REGISTER_FAIL","USER_LOGIN_REQUEST","USER_LOGIN_SUCCESS","USER_LOGIN_FAIL","USER_LOGOUT","FETCH_USERS_REQUEST","FETCH_USERS_SUCCESS","FETCH_USERS_FAIL","FETCH_USERBILL_REQUEST","FETCH_USERBILL_SUCCESS","FETCH_USERBILL_FAIL","userRegister","name","email","password","dispatch","type","config","headers","post","data","payload","localStorage","setItem","JSON","stringify","response","message","loginUser","content_Type","logoutUser","removeItem","error","fetchProfile","getState","usersInfo","user","id","_id","loading","get","fetchUserBill"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport {\r\n    USER_REGISTER_REQUEST,\r\n    USER_REGISTER_SUCCESS,\r\n    USER_REGISTER_FAIL,\r\n    USER_LOGIN_REQUEST,\r\n    USER_LOGIN_SUCCESS,\r\n    USER_LOGIN_FAIL,\r\n    USER_LOGOUT,\r\n    FETCH_USERS_REQUEST,\r\n    FETCH_USERS_SUCCESS,\r\n    FETCH_USERS_FAIL,\r\n    FETCH_USERBILL_REQUEST,\r\n    FETCH_USERBILL_SUCCESS,\r\n    FETCH_USERBILL_FAIL\r\n} from '../actionTypes';\r\n\r\n\r\n\r\n// Register User\r\nexport const userRegister = (name, email, password) => {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch({\r\n                type: USER_REGISTER_REQUEST\r\n            })\r\n            const config = {\r\n                headers: { 'content-Type': 'application/json' }\r\n            }\r\n            const { data } = await axios.post(\"https://inventoryvijainatesh.herokuapp.com/api/user/userregister\",\r\n                { name, email, password }, config)\r\n            dispatch({\r\n                type: USER_REGISTER_SUCCESS,\r\n                payload: data\r\n            })\r\n            localStorage.setItem('userAuthData', JSON.stringify(data));\r\n        }\r\n        catch (error) {\r\n            dispatch({\r\n                type: USER_REGISTER_FAIL,\r\n                payload: error.response && error.response.data.message\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nexport const loginUser = (email, password) => {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch({\r\n                type: USER_LOGIN_REQUEST\r\n            })\r\n            const config = {\r\n                headers: { content_Type: \"application/json\" }\r\n            }\r\n            const { data } = await axios.post(\"https://inventoryvijainatesh.herokuapp.com/api/user/login\",\r\n                { email, password }, config)\r\n            dispatch({\r\n                type: USER_LOGIN_SUCCESS,\r\n                payload: data\r\n            })\r\n            localStorage.setItem('userAuthData', JSON.stringify(data));\r\n        }\r\n        catch (error) {\r\n            dispatch({\r\n                type: USER_LOGIN_FAIL,\r\n                payload: error.response && error.response.data.message\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nexport const logoutUser = () => {\r\n    return async dispatch => {\r\n        localStorage.removeItem('userAuthData');\r\n        try {\r\n            dispatch({\r\n                type: USER_LOGOUT,\r\n            });\r\n        } catch (error) { }\r\n    };\r\n};\r\n\r\n\r\nexport const fetchProfile = () => {\r\n    return async (dispatch, getState) => {\r\n        const { usersInfo } = getState().user\r\n        const id = usersInfo._id\r\n        try {\r\n            dispatch({\r\n                type: FETCH_USERS_REQUEST,\r\n                loading: true,\r\n            });\r\n            const config = {\r\n                headers: {\r\n                    content_Type: 'application/json'\r\n                }\r\n            };\r\n            const { data } = await axios.get(`https://inventoryvijainatesh.herokuapp.com/api/user/profile/${id}`, config);\r\n            dispatch({\r\n                type: FETCH_USERS_SUCCESS,\r\n                payload: data,\r\n            });\r\n        } catch (error) {\r\n            dispatch({\r\n                type: FETCH_USERS_FAIL,\r\n                error: error.response && error.response.data.message,\r\n            });\r\n        }\r\n    };\r\n};\r\n\r\nexport const fetchUserBill = () => {\r\n    return async (dispatch, getState) => {\r\n        const { usersInfo } = getState().user\r\n        const id = usersInfo._id\r\n        try {\r\n            dispatch({\r\n                type: FETCH_USERBILL_REQUEST,\r\n                loading: true,\r\n            });\r\n            const config = {\r\n                headers: {\r\n                    content_Type: 'application/json'\r\n                }\r\n            };\r\n            const { data } = await axios.get(`https://inventoryvijainatesh.herokuapp.com/api/user/bill/${id}`, config);\r\n            dispatch({\r\n                type: FETCH_USERBILL_SUCCESS,\r\n                payload: data,\r\n            });\r\n        } catch (error) {\r\n            dispatch({\r\n                type: FETCH_USERBILL_FAIL,\r\n                error: error.response && error.response.data.message,\r\n            });\r\n        }\r\n    };\r\n};\r\n\r\n"]},"metadata":{},"sourceType":"module"}