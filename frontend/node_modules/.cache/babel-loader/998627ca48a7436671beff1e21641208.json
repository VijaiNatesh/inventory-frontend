{"ast":null,"code":"import _slicedToArray from\"D:/React/InventoryCopy/inventoryfrontend/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Form,Button}from\"react-bootstrap\";import{useDispatch,useSelector}from'react-redux';import{loginUser}from'../../redux/actions/user/userAction';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(_ref){var history=_ref.history;var _useState=useState(),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var dispatch=useDispatch();var userLoginDetails=useSelector(function(state){return state.user;});var loading=userLoginDetails.loading,usersInfo=userLoginDetails.usersInfo,error=userLoginDetails.error;console.log(loading,usersInfo,error);useEffect(function(){if(usersInfo){history.push('/home');}},[usersInfo,history]);var formSubmitHandler=function formSubmitHandler(e){e.preventDefault();dispatch(loginUser(email,password));setEmail(\" \");setPassword(\" \");};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Form,{className:\"w-50 mx-auto\",onSubmit:formSubmitHandler,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-2 \",controlId:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"mail\",size:\"sm\",placeholder:\"Enter your Email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-2 \",controlId:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",size:\"sm\",placeholder:\"Enter your password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Login\"})]})});}export default Login;","map":{"version":3,"sources":["D:/React/InventoryCopy/inventoryfrontend/frontend/src/component/User/Login.js"],"names":["React","useState","useEffect","Form","Button","useDispatch","useSelector","loginUser","Login","history","email","setEmail","password","setPassword","dispatch","userLoginDetails","state","user","loading","usersInfo","error","console","log","push","formSubmitHandler","e","preventDefault","target","value"],"mappings":"oIAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,IAAT,CAAeC,MAAf,KAA6B,iBAA7B,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,SAAT,KAA0B,qCAA1B,C,wFAEA,QAASC,CAAAA,KAAT,MAA0B,IAAVC,CAAAA,OAAU,MAAVA,OAAU,CACtB,cAA0BR,QAAQ,EAAlC,wCAAOS,KAAP,eAAcC,QAAd,eACA,eAAgCV,QAAQ,EAAxC,yCAAOW,QAAP,eAAiBC,WAAjB,eAEA,GAAMC,CAAAA,QAAQ,CAAGT,WAAW,EAA5B,CAEA,GAAMU,CAAAA,gBAAgB,CAAGT,WAAW,CAAC,SAAAU,KAAK,QAAIA,CAAAA,KAAK,CAACC,IAAV,EAAN,CAApC,CACA,GAAQC,CAAAA,OAAR,CAAsCH,gBAAtC,CAAQG,OAAR,CAAiBC,SAAjB,CAAsCJ,gBAAtC,CAAiBI,SAAjB,CAA4BC,KAA5B,CAAsCL,gBAAtC,CAA4BK,KAA5B,CACAC,OAAO,CAACC,GAAR,CAAYJ,OAAZ,CAAqBC,SAArB,CAAgCC,KAAhC,EAEAlB,SAAS,CAAC,UAAM,CACZ,GAAIiB,SAAJ,CAAe,CACXV,OAAO,CAACc,IAAR,CAAa,OAAb,EACH,CACJ,CAJQ,CAIN,CAACJ,SAAD,CAAYV,OAAZ,CAJM,CAAT,CAOA,GAAMe,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,CAAD,CAAO,CAC7BA,CAAC,CAACC,cAAF,GACAZ,QAAQ,CAACP,SAAS,CAACG,KAAD,CAAQE,QAAR,CAAV,CAAR,CACAD,QAAQ,CAAC,GAAD,CAAR,CACAE,WAAW,CAAC,GAAD,CAAX,CACH,CALD,CAUA,mBACI,kCACI,MAAC,IAAD,EAAM,SAAS,CAAC,cAAhB,CAA+B,QAAQ,CAAEW,iBAAzC,wBAEI,MAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,OAAtB,CAA8B,SAAS,CAAC,gBAAxC,wBACI,KAAC,IAAD,CAAM,KAAN,oBADJ,cAEI,KAAC,IAAD,CAAM,OAAN,EACI,IAAI,CAAC,MADT,CAEI,IAAI,CAAC,IAFT,CAGI,WAAW,CAAC,kBAHhB,CAII,KAAK,CAAEd,KAJX,CAKI,QAAQ,CAAE,kBAACe,CAAD,QAAOd,CAAAA,QAAQ,CAACc,CAAC,CAACE,MAAF,CAASC,KAAV,CAAf,EALd,EAFJ,GAFJ,cAYI,MAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,OAAtB,CAA8B,SAAS,CAAC,gBAAxC,wBACI,KAAC,IAAD,CAAM,KAAN,uBADJ,cAEI,KAAC,IAAD,CAAM,OAAN,EACI,IAAI,CAAC,MADT,CAEI,IAAI,CAAC,IAFT,CAGI,WAAW,CAAC,qBAHhB,CAII,KAAK,CAAEhB,QAJX,CAKI,QAAQ,CAAE,kBAACa,CAAD,QAAOZ,CAAAA,WAAW,CAACY,CAAC,CAACE,MAAF,CAASC,KAAV,CAAlB,EALd,EAFJ,GAZJ,cAsBI,KAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,IAAI,CAAC,QAA/B,mBAtBJ,GADJ,EADJ,CA8BH,CAED,cAAepB,CAAAA,KAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Form, Button } from \"react-bootstrap\"\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { loginUser } from '../../redux/actions/user/userAction';\r\n\r\nfunction Login({history}) {\r\n    const [email, setEmail] = useState()\r\n    const [password, setPassword] = useState()\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const userLoginDetails = useSelector(state => state.user);\r\n    const { loading, usersInfo, error } = userLoginDetails;\r\n    console.log(loading, usersInfo, error);\r\n\r\n    useEffect(() => {\r\n        if (usersInfo) {\r\n            history.push('/home');\r\n        }\r\n    }, [usersInfo, history]);\r\n\r\n\r\n    const formSubmitHandler = (e) => {\r\n        e.preventDefault();\r\n        dispatch(loginUser(email, password))\r\n        setEmail(\" \")\r\n        setPassword(\" \")\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Form className=\"w-50 mx-auto\" onSubmit={formSubmitHandler}>\r\n\r\n                <Form.Group className=\"mb-2 \" controlId=\"formBasicEmail\">\r\n                    <Form.Label>Email</Form.Label>\r\n                    <Form.Control\r\n                        type=\"mail\"\r\n                        size=\"sm\"\r\n                        placeholder=\"Enter your Email\"\r\n                        value={email}\r\n                        onChange={(e) => setEmail(e.target.value)} />\r\n                </Form.Group>\r\n\r\n                <Form.Group className=\"mb-2 \" controlId=\"formBasicEmail\">\r\n                    <Form.Label>Password</Form.Label>\r\n                    <Form.Control\r\n                        type=\"text\"\r\n                        size=\"sm\"\r\n                        placeholder=\"Enter your password\"\r\n                        value={password}\r\n                        onChange={(e) => setPassword(e.target.value)} />\r\n                </Form.Group>\r\n\r\n                <Button variant=\"primary\" type=\"submit\">\r\n                    Login\r\n                </Button>\r\n            </Form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n"]},"metadata":{},"sourceType":"module"}